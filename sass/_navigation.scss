/*============================================
=            Navigation Variables            =
============================================*/

$navigation-width: 100% !default;
$navigation-float: left !default;
$navigation-bg: $brand-primary !default;
$navigation-desktop-padding: em-calc(20) !default;
$navigation-text-color: #fff !default;
$navigation-hover-darkening: 10% !default; // Change effect on line 56
$navigation-hover-color: $navigation-bg !default;
$navigation-font-family: $font-family-base !default;
$navigation-icon-font: "icons" !default;
$navigation-margin-bottom: 0 !default;

$navigation-offcanvas-easing: ease-out !default;
$navigation-offcanvas-timing: 400ms !default;
$navigation-offcanvas-menu-width: 85% !default;


@font-face {
  font-family: 'icons';
  src: url("../fonts/icon-default.eot");
  src: url("../fonts/icon-default.eot?#iefix") format("embedded-opentype"), url("../fonts/icon-default.woff") format("woff"), url("../fonts/icon-default.ttf") format("truetype"), url("../fonts/icon-default.svg#icon-default") format("svg");
  font-weight: normal;
  font-style: normal; }


/*-----  End of Navigation Variables  ------*/

//Desktop Nav
.content { z-index: 10;}
nav.desktop-navigation {
	width: 100%;
	height: 45px;
	white-space:nowrap;
	background: $navigation-bg;
	z-index: 1000;
	display: block !important;
	margin-bottom: $navigation-margin-bottom;
	@media #{$small} {
		display: none;
	}
	a {
		font-size: 13px;
		text-decoration: none;
		text-transform: uppercase;
		font-family: $navigation-font-family;
		color: $navigation-text-color;
	}
 > ul {
 	margin: 0 auto;
	padding: 0;
	float: $navigation-float;
	width: auto;
 	> li {  
		float: left;
		list-style: none;
		position: relative;
		width: auto;
		margin: 0;
		
		a {
			display: block;
			text-decoration: block;
			text-align: center;
			width: auto;
			background: $navigation-bg;
			height: 45px;
			padding: 0 $navigation-desktop-padding;
			line-height: 45px;
			&:hover { background: darken($navigation-hover-color, $navigation-hover-darkening);}
		}
		> ul { 
			display: none;
			position: absolute;
			background: $navigation-bg;
			width: auto;
			margin: 0;
			z-index: 1000;
			padding: 0;
			> li { //Submenu item
				width: auto;
				margin: 0;
				a { text-align: left; }
				&:hover > ul {
					display: block;
				}
				> ul {
					display: none;
					position: absolute;
					left: 100%;
					margin-top: -45px;
					margin-left: 0;
					width: auto;
					> li { //Sub-Submenu
						width: 100%;
						margin: 0;
						a { text-align: left; }
					} 
				}
			}
		}
		&:hover > ul { display: block;}
 	}
 }
}

.desktop-navigation {
	#label {
		background: #52393A;
		text-transform: uppercase;
		font-weight: 700;
		line-height: 30px;
		margin: 0;
		text-align: center;
		color: #7B5E5E;
		font-size: 13px; 
		z-index: 99999999;
		p { 
			margin: 0;
			padding: 0;
		}
	}
}



//Mobile Nav

#main-nav span.icon {
	display: none;
	@media #{$small} {
		display: inline;
	}
}

.navigation-wrapper.columns {
	@media #{$small}  {
		padding: 0 ;
	}
}

a#nav-toggle, a#off-canvas-nav-toggle {
		display: block;
		right: 0;
		position: absolute;
		text-decoration: none;
		font-family: $navigation-icon-font;
		color: White;
		background: $brand-primary;
		text-transform: uppercase;
		font-weight: 200;
		line-height: 35px;
		font-size: 30px;
		min-width: 36px;
		margin: 5px;
		border-radius: 5px;
		text-align: center;
	}

a#nav-toggle, a#nav-toggle.open, a#nav-toggle.closed, a#off-canvas-nav-toggle, a#off-canvas-nav-toggle.open, a#off-canvas-nav-toggle.closed { 
	display: none; 
	@media #{$small} {
 	 display: block;
 }
}

.mobile-navigation .icon, .offcanvas-navigation .icon {
	font-family: "icons";
	position: absolute;
	right: 0px;
	z-index: 10;
	padding: 0 14px;
	font-size: 30px;
}

.mobile-navigation #label, .offcanvas-navigation #label {
	background: #52393A;
	text-transform: uppercase;
	font-weight: 700;
	line-height: 30px;
	margin: 0;
	padding: 0 0 0 20px;
	color: #7B5E5E;
	font-size: 13px; 
	z-index: 99999999;
	p { 
		margin: 0;
		padding: 0;
	}
}

.mobile-navigation .before-label, .offcanvas-navigation .before-label  {
	border-bottom: 1px solid lighten($navigation-bg,10%);
}

.mobile-navigation .after-label, .offcanvas-navigation .after-label  {
	//border-top: 1px solid darken($navigation-bg,10%);
}

nav.mobile-navigation, nav.offcanvas-navigation {
	display: none;
}

nav.mobile-navigation > ul li.has-dropdown ul, nav.offcanvas-navigation > ul li.has-dropdown ul {
	display: none;
}

nav ul.desk_menu, nav ul.desk_submenu, nav ul.desk_subsubmenu, .offcanvas-navigation ul {
	padding: 0;
}

// Overall Styles
nav.mobile-navigation ul li, nav.offcanvas-navigation ul li {
	position: relative; 
}

nav.mobile-navigation ul li, nav.offcanvas-navigation ul li ul {
	margin: 0;
}

nav.mobile-navigation ul li a, nav.offcanvas-navigation ul li a {	
	background: $navigation-bg;
	position: relative;
	display: block;
	text-decoration: none;
	font-family: $navigation-font-family;
	color: $navigation-text-color;
	text-transform: uppercase;
	font-weight: 700;
	line-height: 45px;
	padding: 0 0 0 20px;
	//border-top: 1px solid lighten($navigation-bg,10%);
	border-bottom: 1px solid darken($navigation-bg,10%);
	&:hover {
		background: darken($navigation-bg, 3%);
	}
}

// Top-level styles
nav.mobile-navigation > ul > li > a, nav.offcanvas-navigation > ul > li > a {	
	
}

// Second-level styles
nav.mobile-navigation > ul > li > ul > li > a, nav.offcanvas-navigation > ul > li > ul > li > a {	
	padding: 0 0 0 40px;
	background: darken($navigation-bg, 3%);
	//border-top: 1px solid lighten($navigation-bg,7%);
	border-bottom: 1px solid darken($navigation-bg,13%);
	&:hover {
		background: darken($navigation-bg, 6%);
	}
}

// Third-level styles
nav.mobile-navigation > ul > li > ul > li > ul > li > a, nav.offcanvas-navigation > ul > li > ul > li > ul > li > a {	
	padding: 0 0 0 60px;
	background: darken($navigation-bg, 6%);
	//border-top: 1px solid lighten($navigation-bg,4%);
	border-bottom: 1px solid darken($navigation-bg,16%);
	&:hover {
		background: darken($navigation-bg, 9%);
	}
}

//Off Canvas Mobile Nav

@mixin off-canvas-nav-shadow {
	box-shadow: rgba(black, 0.50) -14px 0px 10px -14px inset;
}

@mixin off-canvas-nav-shadow-wrapper {
	box-shadow: rgba(black, 0.50) 0px 0px 10px 0px;
}

a#off-canvas-nav-toggle, a#off-canvas-nav-toggle.open, a#off-canvas-nav-toggle.closed { 
	display: none; 
	@media #{$small} {
 	 display: block;
 }
}

.offcanvas-navigation .icon {
	font-family: "icons";
	position: absolute;
	right: 0px;
	z-index: 10;
	padding: 0 14px;
	font-size: 30px;
}

.offcanvas-navigation #label {
	background: #52393A;
	text-transform: uppercase;
	font-weight: 700;
	line-height: 30px;
	margin: 0;
	padding: 0 0 0 20px;
	color: #7B5E5E;
	font-size: 13px; 
	z-index: 99999999;
	p { 
		margin: 0;
		padding: 0;
	}
}

nav.offcanvas-navigation {
	position: absolute;
	left: $navigation-offcanvas-menu-width*(-1);
	height: 100%;
	top: 0;
	width: $navigation-offcanvas-menu-width;
	background: $brand-primary;
	display: block;
	top: -176px;
	@include off-canvas-nav-shadow;
}

nav.offcanvas-navigation ul li a {
	@include off-canvas-nav-shadow;
}

.close-off-canvas-menu {
		font-family: "icons";
		color: $navigation-text-color;
		padding: 0 0 0 20px;
		font-size: em-calc(40px);
		display: none;
		border-bottom: 1px solid darken($navigation-bg,10%);
		@media #{$small} {
			display: block;
		}
	}

.wrapper {
	background: $navigation-bg;
	overflow: hidden;
}

.inner-pagewrapper {
	background: $body-bg;
	z-index: 100;
	left: 0%;
	position: relative;
	@include off-canvas-nav-shadow-wrapper;
	@include transition-duration($navigation-offcanvas-timing);
  	@include transition-timing-function($navigation-offcanvas-easing);
	&.unfolded {
		left: $navigation-offcanvas-menu-width;
		position: relative;
		@include transition-duration($navigation-offcanvas-timing);
  		@include transition-timing-function($navigation-offcanvas-easing);
	}
}
